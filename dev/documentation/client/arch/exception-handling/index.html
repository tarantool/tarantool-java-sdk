
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../instance-connection-group/">
      
      
        <link rel="next" href="../connection-to-multiple-nodes/">
      
      
        
      
      
      <link rel="icon" href="../../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.0">
    
    
      
        <title>Обработка ошибок - Tarantool Java SDK</title>
      
    
    
      <link rel="stylesheet" href="../../../../assets/stylesheets/main.618322db.min.css">
      
        
        <link rel="stylesheet" href="../../../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      
  
  
    
      
      
    
  
    
      
      
    
  
    
      
      
    
  
    
      
      
    
  
    
      
      
    
  
    
      
      
    
  
    
      
      
    
  
    
      
      
    
  
    
      
      
    
  
    
      
      
    
  
    
      
      
    
  
    
      
      
    
  
  
  <style>:root{--md-admonition-icon--note:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M1%207.775V2.75C1%201.784%201.784%201%202.75%201h5.025c.464%200%20.91.184%201.238.513l6.25%206.25a1.75%201.75%200%200%201%200%202.474l-5.026%205.026a1.75%201.75%200%200%201-2.474%200l-6.25-6.25A1.75%201.75%200%200%201%201%207.775m1.5%200c0%20.066.026.13.073.177l6.25%206.25a.25.25%200%200%200%20.354%200l5.025-5.025a.25.25%200%200%200%200-.354l-6.25-6.25a.25.25%200%200%200-.177-.073H2.75a.25.25%200%200%200-.25.25ZM6%205a1%201%200%201%201%200%202%201%201%200%200%201%200-2%22/%3E%3C/svg%3E');--md-admonition-icon--abstract:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M2.5%201.75v11.5c0%20.138.112.25.25.25h3.17a.75.75%200%200%201%200%201.5H2.75A1.75%201.75%200%200%201%201%2013.25V1.75C1%20.784%201.784%200%202.75%200h8.5C12.216%200%2013%20.784%2013%201.75v7.736a.75.75%200%200%201-1.5%200V1.75a.25.25%200%200%200-.25-.25h-8.5a.25.25%200%200%200-.25.25m13.274%209.537zl-4.557%204.45a.75.75%200%200%201-1.055-.008l-1.943-1.95a.75.75%200%200%201%201.062-1.058l1.419%201.425%204.026-3.932a.75.75%200%201%201%201.048%201.074M4.75%204h4.5a.75.75%200%200%201%200%201.5h-4.5a.75.75%200%200%201%200-1.5M4%207.75A.75.75%200%200%201%204.75%207h2a.75.75%200%200%201%200%201.5h-2A.75.75%200%200%201%204%207.75%22/%3E%3C/svg%3E');--md-admonition-icon--info:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M0%208a8%208%200%201%201%2016%200A8%208%200%200%201%200%208m8-6.5a6.5%206.5%200%201%200%200%2013%206.5%206.5%200%200%200%200-13M6.5%207.75A.75.75%200%200%201%207.25%207h1a.75.75%200%200%201%20.75.75v2.75h.25a.75.75%200%200%201%200%201.5h-2a.75.75%200%200%201%200-1.5h.25v-2h-.25a.75.75%200%200%201-.75-.75M8%206a1%201%200%201%201%200-2%201%201%200%200%201%200%202%22/%3E%3C/svg%3E');--md-admonition-icon--tip:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M3.499.75a.75.75%200%200%201%201.5%200v.996C5.9%202.903%206.793%203.65%207.662%204.376l.24.202c-.036-.694.055-1.422.426-2.163C9.1.873%2010.794-.045%2012.622.26%2014.408.558%2016%201.94%2016%204.25c0%201.278-.954%202.575-2.44%202.734l.146.508.065.22c.203.701.412%201.455.476%202.226.142%201.707-.4%203.03-1.487%203.898C11.714%2014.671%2010.27%2015%208.75%2015h-6a.75.75%200%200%201%200-1.5h1.376a4.5%204.5%200%200%201-.563-1.191%203.84%203.84%200%200%201-.05-2.063%204.65%204.65%200%200%201-2.025-.293.75.75%200%200%201%20.525-1.406c1.357.507%202.376-.006%202.698-.318l.009-.01a.747.747%200%200%201%201.06%200%20.75.75%200%200%201-.012%201.074c-.912.92-.992%201.835-.768%202.586.221.74.745%201.337%201.196%201.621H8.75c1.343%200%202.398-.296%203.074-.836.635-.507%201.036-1.31.928-2.602-.05-.603-.216-1.224-.422-1.93l-.064-.221c-.12-.407-.246-.84-.353-1.29a2.4%202.4%200%200%201-.507-.441%203.1%203.1%200%200%201-.633-1.248.75.75%200%200%201%201.455-.364c.046.185.144.436.31.627.146.168.353.305.712.305.738%200%201.25-.615%201.25-1.25%200-1.47-.95-2.315-2.123-2.51-1.172-.196-2.227.387-2.706%201.345-.46.92-.27%201.774.019%203.062l.042.19.01.05c.348.443.666.949.94%201.553a.75.75%200%201%201-1.365.62c-.553-1.217-1.32-1.94-2.3-2.768L6.7%205.527c-.814-.68-1.75-1.462-2.692-2.619a3.7%203.7%200%200%200-1.023.88c-.406.495-.663%201.036-.722%201.508.116.122.306.21.591.239.388.038.797-.06%201.032-.19a.75.75%200%200%201%20.728%201.31c-.515.287-1.23.439-1.906.373-.682-.067-1.473-.38-1.879-1.193L.75%205.677V5.5c0-.984.48-1.94%201.077-2.664.46-.559%201.05-1.055%201.673-1.353z%22/%3E%3C/svg%3E');--md-admonition-icon--success:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M13.78%204.22a.75.75%200%200%201%200%201.06l-7.25%207.25a.75.75%200%200%201-1.06%200L2.22%209.28a.75.75%200%200%201%20.018-1.042.75.75%200%200%201%201.042-.018L6%2010.94l6.72-6.72a.75.75%200%200%201%201.06%200%22/%3E%3C/svg%3E');--md-admonition-icon--question:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M0%208a8%208%200%201%201%2016%200A8%208%200%200%201%200%208m8-6.5a6.5%206.5%200%201%200%200%2013%206.5%206.5%200%200%200%200-13M6.92%206.085h.001a.749.749%200%201%201-1.342-.67c.169-.339.436-.701.849-.977C6.845%204.16%207.369%204%208%204a2.76%202.76%200%200%201%201.637.525c.503.377.863.965.863%201.725%200%20.448-.115.83-.329%201.15-.205.307-.47.513-.692.662-.109.072-.22.138-.313.195l-.006.004a6%206%200%200%200-.26.16%201%201%200%200%200-.276.245.75.75%200%200%201-1.248-.832c.184-.264.42-.489.692-.661q.154-.1.313-.195l.007-.004c.1-.061.182-.11.258-.161a1%201%200%200%200%20.277-.245C8.96%206.514%209%206.427%209%206.25a.61.61%200%200%200-.262-.525A1.27%201.27%200%200%200%208%205.5c-.369%200-.595.09-.74.187a1%201%200%200%200-.34.398M9%2011a1%201%200%201%201-2%200%201%201%200%200%201%202%200%22/%3E%3C/svg%3E');--md-admonition-icon--warning:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M6.457%201.047c.659-1.234%202.427-1.234%203.086%200l6.082%2011.378A1.75%201.75%200%200%201%2014.082%2015H1.918a1.75%201.75%200%200%201-1.543-2.575Zm1.763.707a.25.25%200%200%200-.44%200L1.698%2013.132a.25.25%200%200%200%20.22.368h12.164a.25.25%200%200%200%20.22-.368Zm.53%203.996v2.5a.75.75%200%200%201-1.5%200v-2.5a.75.75%200%200%201%201.5%200M9%2011a1%201%200%201%201-2%200%201%201%200%200%201%202%200%22/%3E%3C/svg%3E');--md-admonition-icon--failure:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M2.344%202.343za8%208%200%200%201%2011.314%2011.314A8.002%208.002%200%200%201%20.234%2010.089a8%208%200%200%201%202.11-7.746m1.06%2010.253a6.5%206.5%200%201%200%209.108-9.275%206.5%206.5%200%200%200-9.108%209.275M6.03%204.97%208%206.94l1.97-1.97a.749.749%200%200%201%201.275.326.75.75%200%200%201-.215.734L9.06%208l1.97%201.97a.749.749%200%200%201-.326%201.275.75.75%200%200%201-.734-.215L8%209.06l-1.97%201.97a.749.749%200%200%201-1.275-.326.75.75%200%200%201%20.215-.734L6.94%208%204.97%206.03a.75.75%200%200%201%20.018-1.042.75.75%200%200%201%201.042-.018%22/%3E%3C/svg%3E');--md-admonition-icon--danger:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M9.504.43a1.516%201.516%200%200%201%202.437%201.713L10.415%205.5h2.123c1.57%200%202.346%201.909%201.22%203.004l-7.34%207.142a1.25%201.25%200%200%201-.871.354h-.302a1.25%201.25%200%200%201-1.157-1.723L5.633%2010.5H3.462c-1.57%200-2.346-1.909-1.22-3.004zm1.047%201.074L3.286%208.571A.25.25%200%200%200%203.462%209H6.75a.75.75%200%200%201%20.694%201.034l-1.713%204.188%206.982-6.793A.25.25%200%200%200%2012.538%207H9.25a.75.75%200%200%201-.683-1.06l2.008-4.418.003-.006-.004-.009-.006-.006-.008-.001q-.005%200-.009.004%22/%3E%3C/svg%3E');--md-admonition-icon--bug:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M4.72.22a.75.75%200%200%201%201.06%200l1%20.999a3.5%203.5%200%200%201%202.441%200l.999-1a.748.748%200%200%201%201.265.332.75.75%200%200%201-.205.729l-.775.776c.616.63.995%201.493.995%202.444v.327q0%20.15-.025.292c.408.14.764.392%201.029.722l1.968-.787a.75.75%200%200%201%20.556%201.392L13%207.258V9h2.25a.75.75%200%200%201%200%201.5H13v.5q-.002.615-.141%201.186l2.17.868a.75.75%200%200%201-.557%201.392l-2.184-.873A5%205%200%200%201%208%2016a5%205%200%200%201-4.288-2.427l-2.183.873a.75.75%200%200%201-.558-1.392l2.17-.868A5%205%200%200%201%203%2011v-.5H.75a.75.75%200%200%201%200-1.5H3V7.258L.971%206.446a.75.75%200%200%201%20.558-1.392l1.967.787c.265-.33.62-.583%201.03-.722a1.7%201.7%200%200%201-.026-.292V4.5c0-.951.38-1.814.995-2.444L4.72%201.28a.75.75%200%200%201%200-1.06m.53%206.28a.75.75%200%200%200-.75.75V11a3.5%203.5%200%201%200%207%200V7.25a.75.75%200%200%200-.75-.75ZM6.173%205h3.654A.17.17%200%200%200%2010%204.827V4.5a2%202%200%201%200-4%200v.327c0%20.096.077.173.173.173%22/%3E%3C/svg%3E');--md-admonition-icon--example:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M5%205.782V2.5h-.25a.75.75%200%200%201%200-1.5h6.5a.75.75%200%200%201%200%201.5H11v3.282l3.666%205.76C15.619%2013.04%2014.543%2015%2012.767%2015H3.233c-1.776%200-2.852-1.96-1.899-3.458Zm-2.4%206.565a.75.75%200%200%200%20.633%201.153h9.534a.75.75%200%200%200%20.633-1.153L12.225%2010.5h-8.45ZM9.5%202.5h-3V6c0%20.143-.04.283-.117.403L4.73%209h6.54L9.617%206.403A.75.75%200%200%201%209.5%206Z%22/%3E%3C/svg%3E');--md-admonition-icon--quote:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M1.75%202.5h10.5a.75.75%200%200%201%200%201.5H1.75a.75.75%200%200%201%200-1.5m4%205h8.5a.75.75%200%200%201%200%201.5h-8.5a.75.75%200%200%201%200-1.5m0%205h8.5a.75.75%200%200%201%200%201.5h-8.5a.75.75%200%200%201%200-1.5M2.5%207.75v6a.75.75%200%200%201-1.5%200v-6a.75.75%200%200%201%201.5%200%22/%3E%3C/svg%3E');}</style>


  
  
  
  
  <style>:root{--md-annotation-icon:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%2024%2024%22%3E%3Cpath%20d%3D%22M12%203C6.5%203%202%206.6%202%2011c0%202.1%201%204.1%202.8%205.5%200%20.6-.4%202.2-2.8%204.5%200%200%203.5%200%206.5-2.5%201.1.3%202.3.5%203.5.5%205.5%200%2010-3.6%2010-8s-4.5-8-10-8m1%2012h-2v-2h2zm1.8-5c-.3.4-.7.6-1.1.8-.3.2-.4.3-.5.5-.2.2-.2.4-.2.7h-2c0-.5.1-.8.3-1.1.2-.2.6-.5%201.1-.8.3-.1.5-.3.6-.5s.2-.5.2-.7c0-.3-.1-.5-.3-.7s-.5-.3-.8-.3-.5.1-.7.2q-.3.15-.3.6h-2c.1-.7.4-1.3.9-1.7s1.2-.5%202.1-.5%201.7.2%202.2.6.8%201%20.8%201.7q.15.6-.3%201.2%22/%3E%3C/svg%3E');}</style>


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../../css/drawio-darkmode.css">
    
    <script>__md_scope=new URL("../../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#_1" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../../.." title="Tarantool Java SDK" class="md-header__button md-logo" aria-label="Tarantool Java SDK" data-md-component="logo">
      
  
  <svg width="52" height="52" viewBox="0 0 52 52" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M19.819 8.58729C22.8355 6.8491 24.3438 5.98 26 5.98C27.6562 5.98 29.1645 6.8491 32.181 8.58729L38.019 11.9512C41.0355 13.6894 42.5438 14.5585 43.3719 15.99C44.2 17.4215 44.2 19.1597 44.2 22.6361V29.3639C44.2 32.8403 44.2 34.5785 43.3719 36.01C42.5438 37.4415 41.0355 38.3106 38.019 40.0488L32.181 43.4127C29.1645 45.1509 27.6562 46.02 26 46.02C24.3438 46.02 22.8355 45.1509 19.819 43.4127L13.981 40.0488C10.9645 38.3106 9.45621 37.4415 8.6281 36.01C7.8 34.5785 7.8 32.8403 7.8 29.3639V22.6361C7.8 19.1597 7.8 17.4215 8.6281 15.99C9.45621 14.5585 10.9645 13.6894 13.981 11.9512L19.819 8.58729ZM18.46 18.98C18.0292 18.98 17.68 19.3292 17.68 19.76V22.5141C17.68 22.9449 18.0292 23.2941 18.46 23.2941H23.063C23.4937 23.2941 23.843 23.6433 23.843 24.0741V34.84C23.843 35.2708 24.1922 35.62 24.623 35.62H27.377C27.8078 35.62 28.157 35.2708 28.157 34.84V24.0741C28.157 23.6433 28.5063 23.2941 28.937 23.2941H33.54C33.9708 23.2941 34.32 22.9449 34.32 22.5141V19.76C34.32 19.3292 33.9708 18.98 33.54 18.98H18.46Z" fill="white"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M0 24.7213C0 13.0676 0 7.2407 3.62035 3.62035C7.2407 0 13.0676 0 24.7213 0H27.2787C38.9324 0 44.7593 0 48.3796 3.62035C52 7.2407 52 13.0676 52 24.7213V27.2787C52 38.9324 52 44.7593 48.3796 48.3796C44.7593 52 38.9324 52 27.2787 52H24.7213C13.0676 52 7.2407 52 3.62035 48.3796C0 44.7593 0 38.9324 0 27.2787V24.7213ZM24.7213 1.56H27.2787C33.1497 1.56 37.396 1.56331 40.6338 1.99863C43.8268 2.42792 45.8045 3.25142 47.2766 4.72344C48.7486 6.19546 49.5721 8.17319 50.0014 11.3662C50.4367 14.604 50.44 18.8503 50.44 24.7213V27.2787C50.44 33.1497 50.4367 37.396 50.0014 40.6338C49.5721 43.8268 48.7486 45.8045 47.2766 47.2766C45.8045 48.7486 43.8268 49.5721 40.6338 50.0014C37.396 50.4367 33.1497 50.44 27.2787 50.44H24.7213C18.8503 50.44 14.604 50.4367 11.3662 50.0014C8.17319 49.5721 6.19546 48.7486 4.72344 47.2766C3.25142 45.8045 2.42792 43.8268 1.99863 40.6338C1.56331 37.396 1.56 33.1497 1.56 27.2787V24.7213C1.56 18.8503 1.56331 14.604 1.99863 11.3662C2.42792 8.17319 3.25142 6.19546 4.72344 4.72344C6.19546 3.25142 8.17319 2.42792 11.3662 1.99863C14.604 1.56331 18.8503 1.56 24.7213 1.56Z" fill="white"/>
</svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Tarantool Java SDK
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Обработка ошибок
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label=""  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label=""  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
    
      <div class="md-header__source">
        <a href="https://github.com/tarantool/tarantool-java-sdk" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    tarantool/tarantool-java-sdk
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../.." class="md-tabs__link">
          
  
  
    
  
  Главная

        </a>
      </li>
    
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../../" class="md-tabs__link">
          
  
  
    
  
  Документация

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../.." title="Tarantool Java SDK" class="md-nav__button md-logo" aria-label="Tarantool Java SDK" data-md-component="logo">
      
  
  <svg width="52" height="52" viewBox="0 0 52 52" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M19.819 8.58729C22.8355 6.8491 24.3438 5.98 26 5.98C27.6562 5.98 29.1645 6.8491 32.181 8.58729L38.019 11.9512C41.0355 13.6894 42.5438 14.5585 43.3719 15.99C44.2 17.4215 44.2 19.1597 44.2 22.6361V29.3639C44.2 32.8403 44.2 34.5785 43.3719 36.01C42.5438 37.4415 41.0355 38.3106 38.019 40.0488L32.181 43.4127C29.1645 45.1509 27.6562 46.02 26 46.02C24.3438 46.02 22.8355 45.1509 19.819 43.4127L13.981 40.0488C10.9645 38.3106 9.45621 37.4415 8.6281 36.01C7.8 34.5785 7.8 32.8403 7.8 29.3639V22.6361C7.8 19.1597 7.8 17.4215 8.6281 15.99C9.45621 14.5585 10.9645 13.6894 13.981 11.9512L19.819 8.58729ZM18.46 18.98C18.0292 18.98 17.68 19.3292 17.68 19.76V22.5141C17.68 22.9449 18.0292 23.2941 18.46 23.2941H23.063C23.4937 23.2941 23.843 23.6433 23.843 24.0741V34.84C23.843 35.2708 24.1922 35.62 24.623 35.62H27.377C27.8078 35.62 28.157 35.2708 28.157 34.84V24.0741C28.157 23.6433 28.5063 23.2941 28.937 23.2941H33.54C33.9708 23.2941 34.32 22.9449 34.32 22.5141V19.76C34.32 19.3292 33.9708 18.98 33.54 18.98H18.46Z" fill="white"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M0 24.7213C0 13.0676 0 7.2407 3.62035 3.62035C7.2407 0 13.0676 0 24.7213 0H27.2787C38.9324 0 44.7593 0 48.3796 3.62035C52 7.2407 52 13.0676 52 24.7213V27.2787C52 38.9324 52 44.7593 48.3796 48.3796C44.7593 52 38.9324 52 27.2787 52H24.7213C13.0676 52 7.2407 52 3.62035 48.3796C0 44.7593 0 38.9324 0 27.2787V24.7213ZM24.7213 1.56H27.2787C33.1497 1.56 37.396 1.56331 40.6338 1.99863C43.8268 2.42792 45.8045 3.25142 47.2766 4.72344C48.7486 6.19546 49.5721 8.17319 50.0014 11.3662C50.4367 14.604 50.44 18.8503 50.44 24.7213V27.2787C50.44 33.1497 50.4367 37.396 50.0014 40.6338C49.5721 43.8268 48.7486 45.8045 47.2766 47.2766C45.8045 48.7486 43.8268 49.5721 40.6338 50.0014C37.396 50.4367 33.1497 50.44 27.2787 50.44H24.7213C18.8503 50.44 14.604 50.4367 11.3662 50.0014C8.17319 49.5721 6.19546 48.7486 4.72344 47.2766C3.25142 45.8045 2.42792 43.8268 1.99863 40.6338C1.56331 37.396 1.56 33.1497 1.56 27.2787V24.7213C1.56 18.8503 1.56331 14.604 1.99863 11.3662C2.42792 8.17319 3.25142 6.19546 4.72344 4.72344C6.19546 3.25142 8.17319 2.42792 11.3662 1.99863C14.604 1.56331 18.8503 1.56 24.7213 1.56Z" fill="white"/>
</svg>

    </a>
    Tarantool Java SDK
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/tarantool/tarantool-java-sdk" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    tarantool/tarantool-java-sdk
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
      
        
          
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../.." class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Главная
  

    
  </span>
  
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    Главная
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Документация
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2" id="__nav_2_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Документация
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../spring-data/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Spring Data
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Spring Data
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../spring-data/configuration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Конфигурация клиентов
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../spring-data/repository/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Repository API
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../spring-data/derived-methods/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Динамические запросы
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../spring-data/sort/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Сортировка
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../spring-data/query-lua/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Хранимые процедуры
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../spring-data/page-slice-pageable/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Пагинация
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../spring-data/scroll-api/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Пагинация (Scroll API)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3" checked>
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Высокоуровневый клиент
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Высокоуровневый клиент
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3_2" checked>
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Архитектура
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_3_2" id="__nav_2_3_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_3_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2_3_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Архитектура
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../high-level-arch/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Взаимодействие с Tarantool Java SDK
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../heartbeat/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Архитектура heartbeat
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../balancer/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Балансировка
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../connection-pool/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Пул соединений
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../instance-connection-group/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Группа соединений
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    Обработка ошибок
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    Обработка ошибок
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        Обработка исключительных ситуаций
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Обработка исключительных ситуаций">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      
        Общие сведения
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../connection-to-multiple-nodes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Подключение к нескольким узлам
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../call/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Хранимые процедуры
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tuple_pojo_mapping/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Маппинг данных
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        Обработка исключительных ситуаций
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Обработка исключительных ситуаций">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      
        Общие сведения
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
                




  <nav class="md-path" aria-label="Navigation" >
    <ol class="md-path__list">
      
      
        
  
  
    
    
      <li class="md-path__item">
        <a href="../../../" class="md-path__link">
          
  <span class="md-ellipsis">
    Документация
  </span>

        </a>
      </li>
    
  

      
        
  
  
    
    
      <li class="md-path__item">
        <a href="../../" class="md-path__link">
          
  <span class="md-ellipsis">
    Высокоуровневый клиент
  </span>

        </a>
      </li>
    
  

      
        
  
  
    
    
      <li class="md-path__item">
        <a href="../" class="md-path__link">
          
  <span class="md-ellipsis">
    Архитектура
  </span>

        </a>
      </li>
    
  

      
    </ol>
  </nav>

              
              <article class="md-content__inner md-typeset">
                
                  


  
  


  <h1>Обработка ошибок</h1>

<h2 id="_1">Обработка исключительных ситуаций</h2>
<h3 id="_2">Общие сведения</h3>
<p>При работе с Java-клиентом можно встретиться со следующими категориями ошибок:</p>
<table>
    <caption>Типы ошибок</caption>
    <thead>
        <tr>
            <th>Ошибка на стороне Tarantool</th>
            <th>Представление ошибки в Java-клиенте</th>
            <th>Описание</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td><a href="#box-error-section">Исключительные ситуации</a>, возникающие 
при выполнении Lua-кода на сервере приложений Tarantool. Исключения выбрасываются через 
<a href="https://www.tarantool.io/ru/doc/latest/reference/reference_lua/box_error/error/">
box.error(...)</a> или <a href="https://www.lua.org/pil/8.4.html">error(...)</a></td>
            <td>Ошибки передаются в Java-клиент на уровне протокола IProto с 
использованием специального 
<a href="https://www.tarantool.io/ru/doc/latest/reference/internals/iproto/format/#error-responses">
пакета</a>. В Java-клиенте такие ошибки оборачиваются в исключение типа <code>BoxError</code></td>
            <td>
                <p>Ошибку данного типа в Java-клиенте можно получить в следующих случаях:</p>
                <ul>
                    <li><a href="#box-error-section-box-api">Ошибки</a> во время использования 
<code>TarantoolBoxSpace API</code></li>
                    <li><a href="#call-error">Явный вызов</a> <code>box.error(...)</code> или 
<code>error(...)</code> при выполнении кода хранимой процедуры через <code>TarantoolClient#call(...)
</code></li>
                    <li><a href="#eval-error">Явный вызов</a> <code>box.error(...)</code> или 
<code>error(...)</code> при выполнении кода через <code>TarantoolClient#eval(...)</code></li>
                    <li>Иные ошибки, возникающие при работе с <code>TarantoolBoxClient API</code>, 
<code>TarantoolClient#eval(...)</code>, <code>TarantoolClient#call(...)</code>, описанные в 
<a href="https://github.com/tarantool/tarantool/blob/master/src/box/errcode.h">файле</a></li>
                </ul>
            </td>
        </tr>
        <tr>
            <td><a href="#go-like-error">Ошибки</a>, возвращаемые в виде структур в составе 
multivalue кортежа без выброса исключений (по аналогии с Go) на стороне Tarantool</td>
            <td>Ответ от Tarantool преобразуется по общим правилам десериализации</td>
            <td>Такая ситуация не рассматривается Java-клиентом как исключительная. 
Ответ с объектом-ошибкой преобразуется в Java-объекты по общим правилам десериализации. При работе 
с <code>TarantoolCrudClient</code> кортеж-ответ преобразуется в объект типа 
<code>CrudResponse</code>
            </td>
        </tr>
        <tr>
            <td>-</td>
            <td>Исключения формируются на стороне Java-клиента</td>
            <td>Данные исключения генерируются самим Java-клиентом в зависимости от 
различных ситуаций. Смотрите полный <a href="#java-exceptions-table">список исключений</a>
            </td>
        </tr>
    </tbody>
</table>

<h3 id="box-error-section">Исключительные ситуации на стороне Tarantool</h3>

<h4 id="box-error-section-box-api">TarantoolBoxClient API</h4>

<p>При использовании <code>TarantoolBoxClient</code> можно получить исключение типа <code>BoxError</code> в случае
ошибочного использования API.</p>
<h5 id="box-error-ex-1">Пример 1: повторная вставка записи с тем же идентификатором</h5>

<p>Создадим space с именем <code>person</code>:</p>
<div class="language-lua highlight"><pre><span></span><code><span id="__spanz-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nv">person_space</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">box</span><span class="p">.</span><span class="py">schema</span><span class="p">.</span><span class="py">space</span><span class="p">.</span><span class="nf">create</span><span class="p">(</span><span class="s1">&#39;person&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">{</span>
</span><span id="__spanz-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="w">    </span><span class="nv">if_not_exists</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
</span><span id="__spanz-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="w">    </span><span class="nv">format</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
</span><span id="__spanz-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="w">        </span><span class="p">{</span><span class="w"> </span><span class="s1">&#39;id&#39;</span><span class="p">,</span><span class="w"> </span><span class="nb">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;uuid&#39;</span><span class="w"> </span><span class="p">},</span>
</span><span id="__spanz-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="w">        </span><span class="p">{</span><span class="w"> </span><span class="s1">&#39;value&#39;</span><span class="p">,</span><span class="w"> </span><span class="nb">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;string&#39;</span><span class="p">,</span><span class="w"> </span><span class="nv">is_nullable</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="w"> </span><span class="p">}</span>
</span><span id="__spanz-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__spanz-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="p">})</span>
</span><span id="__spanz-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a><span class="nv">person_space</span><span class="p">:</span><span class="nf">create_index</span><span class="p">(</span><span class="s1">&#39;pk&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">parts</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="s1">&#39;id&#39;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">})</span>
</span></code></pre></div>
<p>Создадим экземпляр <code>TarantoolBoxClient</code> и вставим запись (запись должна появиться в <code>Tarantool</code>):</p>
<div class="language-java highlight"><pre><span></span><code><span id="__spanz-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="kd">final</span><span class="w"> </span><span class="n">TarantoolBoxClient</span><span class="w"> </span><span class="n">boxClient</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">TarantoolFactory</span><span class="p">.</span><span class="na">box</span><span class="p">()</span>
</span><span id="__spanz-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="w">    </span><span class="p">.</span><span class="na">host</span><span class="p">(</span><span class="s">&quot;paste-host-name&quot;</span><span class="p">)</span>
</span><span id="__spanz-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a><span class="w">    </span><span class="p">.</span><span class="na">port</span><span class="p">(</span><span class="mi">3302</span><span class="p">)</span>
</span><span id="__spanz-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a><span class="w">    </span><span class="p">.</span><span class="na">user</span><span class="p">(</span><span class="s">&quot;paste-username&quot;</span><span class="p">)</span>
</span><span id="__spanz-1-5"><a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a><span class="w">    </span><span class="p">.</span><span class="na">password</span><span class="p">(</span><span class="s">&quot;paste-username-password&quot;</span><span class="p">)</span>
</span><span id="__spanz-1-6"><a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a><span class="w">    </span><span class="p">.</span><span class="na">build</span><span class="p">();</span>
</span><span id="__spanz-1-7"><a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a>
</span><span id="__spanz-1-8"><a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a><span class="kd">final</span><span class="w"> </span><span class="n">TarantoolBoxSpace</span><span class="w"> </span><span class="n">space</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">boxClient</span><span class="p">.</span><span class="na">space</span><span class="p">(</span><span class="s">&quot;person&quot;</span><span class="p">);</span>
</span><span id="__spanz-1-9"><a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a><span class="kd">final</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;?&gt;</span><span class="w"> </span><span class="n">tuple</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Arrays</span><span class="p">.</span><span class="na">asList</span><span class="p">(</span><span class="n">UUID</span><span class="p">.</span><span class="na">randomUUID</span><span class="p">(),</span><span class="w"> </span><span class="s">&quot;some_value&quot;</span><span class="p">);</span>
</span><span id="__spanz-1-10"><a id="__codelineno-1-10" name="__codelineno-1-10" href="#__codelineno-1-10"></a>
</span><span id="__spanz-1-11"><a id="__codelineno-1-11" name="__codelineno-1-11" href="#__codelineno-1-11"></a><span class="kd">final</span><span class="w"> </span><span class="n">Tuple</span><span class="o">&lt;</span><span class="n">List</span><span class="o">&lt;?&gt;&gt;</span><span class="w"> </span><span class="n">insertedTuple</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">space</span><span class="p">.</span><span class="na">insert</span><span class="p">(</span><span class="n">tuple</span><span class="p">);</span>
</span></code></pre></div>
<p>Повторная вставка записи приведет к выбросу исключения <code>CompletionException</code> со ссылкой (caused by)
на <code>BoxError</code>:</p>
<div class="language-java highlight"><pre><span></span><code><span id="__spanz-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="kd">final</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;?&gt;</span><span class="w"> </span><span class="n">tupleWithNewValue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Arrays</span><span class="p">.</span><span class="na">asList</span><span class="p">(</span><span class="n">tuple</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span><span class="w"> </span><span class="s">&quot;some_value_2&quot;</span><span class="p">);</span>
</span><span id="__spanz-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>
</span><span id="__spanz-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span class="c1">// stacktrace: </span>
</span><span id="__spanz-2-4"><a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a><span class="c1">//    java.util.concurrent.CompletionException: io.tarantool.core.exceptions.BoxError:</span>
</span><span id="__spanz-2-5"><a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a><span class="c1">//    BoxError{code=3, message=&#39;Duplicate key exists in unique index &quot;pk&quot; in space &quot;tt&quot; with </span>
</span><span id="__spanz-2-6"><a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a><span class="c1">//    old tuple - [bdf657fc-5779-46d6-aea6-402e4a5eee38, &quot;some_value&quot;] and new tuple -</span>
</span><span id="__spanz-2-7"><a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a><span class="c1">//    [bdf657fc-5779-46d6-aea6-402e4a5eee38, &quot;some_value&quot;]&#39;, </span>
</span><span id="__spanz-2-8"><a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a><span class="c1">//    stack=[BoxErrorStackItem{type=&#39;ClientError&#39;, line=1133, file=&#39;./src/box/memtx_tree.cc&#39;,</span>
</span><span id="__spanz-2-9"><a id="__codelineno-2-9" name="__codelineno-2-9" href="#__codelineno-2-9"></a><span class="c1">//    message=&#39;Duplicate key exists in unique index &quot;pk&quot; in space &quot;tt&quot; with old tuple - </span>
</span><span id="__spanz-2-10"><a id="__codelineno-2-10" name="__codelineno-2-10" href="#__codelineno-2-10"></a><span class="c1">//    [bdf657fc-5779-46d6-aea6-402e4a5eee38, &quot;some_value&quot;] and new tuple -</span>
</span><span id="__spanz-2-11"><a id="__codelineno-2-11" name="__codelineno-2-11" href="#__codelineno-2-11"></a><span class="c1">//    [bdf657fc-5779-46d6-aea6-402e4a5eee38, &quot;some_value&quot;]&#39;, errno=0, code=3, details=null}]}</span>
</span><span id="__spanz-2-12"><a id="__codelineno-2-12" name="__codelineno-2-12" href="#__codelineno-2-12"></a><span class="kd">final</span><span class="w"> </span><span class="n">Tuple</span><span class="o">&lt;</span><span class="n">List</span><span class="o">&lt;?&gt;&gt;</span><span class="w"> </span><span class="n">insertedTuple</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">space</span><span class="p">.</span><span class="na">insert</span><span class="p">(</span><span class="n">tuple</span><span class="p">).</span><span class="na">join</span><span class="p">();</span>
</span></code></pre></div>
<h5 id="box-error-ex-2">Пример 2: при удалении записи передан ключ с неверным типом</h5>

<p>Будем использовать созданный в <a href="#box-error-ex-1">Примере 1</a> space <code>person</code>. Удалим
запись, передав неверный ключ (представлен в виде <code>string</code>):</p>
<div class="language-java highlight"><pre><span></span><code><span id="__spanz-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="kd">final</span><span class="w"> </span><span class="n">TarantoolBoxSpace</span><span class="w"> </span><span class="n">space</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">boxClient</span><span class="p">.</span><span class="na">space</span><span class="p">(</span><span class="s">&quot;person&quot;</span><span class="p">);</span>
</span><span id="__spanz-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>
</span><span id="__spanz-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a><span class="kd">final</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">uuidAsString</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tuple</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="mi">0</span><span class="p">).</span><span class="na">toString</span><span class="p">();</span>
</span><span id="__spanz-3-4"><a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a>
</span><span id="__spanz-3-5"><a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a><span class="c1">// stacktrace: </span>
</span><span id="__spanz-3-6"><a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a><span class="c1">//    io.tarantool.core.exceptions.BoxError: BoxError{code=18, message=&#39;Supplied key</span>
</span><span id="__spanz-3-7"><a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a><span class="c1">//    type of part 0 does not match index part type: expected uuid&#39;, </span>
</span><span id="__spanz-3-8"><a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a><span class="c1">//    stack=[BoxErrorStackItem{type=&#39;ClientError&#39;, line=850, file=&#39;./src/box/key_def.h&#39;,</span>
</span><span id="__spanz-3-9"><a id="__codelineno-3-9" name="__codelineno-3-9" href="#__codelineno-3-9"></a><span class="c1">//    message=&#39;Supplied key type of part 0 does not match index part type: expected uuid&#39;, </span>
</span><span id="__spanz-3-10"><a id="__codelineno-3-10" name="__codelineno-3-10" href="#__codelineno-3-10"></a><span class="c1">//    errno=0, code=18, details=null}]}</span>
</span><span id="__spanz-3-11"><a id="__codelineno-3-11" name="__codelineno-3-11" href="#__codelineno-3-11"></a><span class="kd">final</span><span class="w"> </span><span class="n">Tuple</span><span class="o">&lt;</span><span class="n">List</span><span class="o">&lt;?&gt;&gt;</span><span class="w"> </span><span class="n">deletedTuple</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">space</span><span class="p">.</span><span class="na">delete</span><span class="p">(</span><span class="n">uuidAsString</span><span class="p">).</span><span class="na">join</span><span class="p">();</span>
</span></code></pre></div>
<details class="warning" open="open">
<summary>Важно</summary>
<p>Чтобы узнать больше про модуль box, обратитесь к 
<a href="https://www.tarantool.io/ru/doc/latest/reference/reference_lua/box/">документации</a></p>
</details>
<h4 id="call-error">Исключения на стороне Tarantool при вызове <code>TarantoolClient#call(...)
</code></h4>

<p>Создадим хранимые процедуры, в которых проверяется тип переданного параметра:</p>
<div class="language-lua highlight"><pre><span></span><code><span id="__spanz-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="kr">function</span><span class="w"> </span><span class="nf">check_parameter_with_error</span><span class="p">(</span><span class="nv">param</span><span class="p">)</span>
</span><span id="__spanz-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nb">type</span><span class="p">(</span><span class="nv">param</span><span class="p">)</span><span class="w"> </span><span class="o">~=</span><span class="w"> </span><span class="s2">&quot;string&quot;</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__spanz-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a><span class="w">        </span><span class="nb">error</span><span class="p">(</span><span class="s2">&quot;Parameter must be a string&quot;</span><span class="p">)</span>
</span><span id="__spanz-4-4"><a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__spanz-4-5"><a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a><span class="w">    </span><span class="kr">return</span><span class="w"> </span><span class="s2">&quot;Parameter is valid&quot;</span>
</span><span id="__spanz-4-6"><a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a><span class="kr">end</span>
</span><span id="__spanz-4-7"><a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a>
</span><span id="__spanz-4-8"><a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a><span class="nv">box</span><span class="p">.</span><span class="py">schema</span><span class="p">.</span><span class="py">func</span><span class="p">.</span><span class="nf">create</span><span class="p">(</span><span class="s1">&#39;check_parameter_with_error&#39;</span><span class="p">)</span>
</span></code></pre></div>
<div class="language-lua highlight"><pre><span></span><code><span id="__spanz-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="kr">function</span><span class="w"> </span><span class="nf">check_parameter_with_box_error</span><span class="p">(</span><span class="nv">param</span><span class="p">)</span>
</span><span id="__spanz-5-2"><a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nb">type</span><span class="p">(</span><span class="nv">param</span><span class="p">)</span><span class="w"> </span><span class="o">~=</span><span class="w"> </span><span class="s2">&quot;string&quot;</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__spanz-5-3"><a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a><span class="w">        </span><span class="nv">box</span><span class="p">.</span><span class="nf">error</span><span class="p">(</span><span class="nv">box</span><span class="p">.</span><span class="py">error</span><span class="p">.</span><span class="py">PROC_LUA</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Parameter must be a string&quot;</span><span class="p">)</span>
</span><span id="__spanz-5-4"><a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__spanz-5-5"><a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a><span class="w">    </span><span class="kr">return</span><span class="w"> </span><span class="s2">&quot;Parameter is valid&quot;</span>
</span><span id="__spanz-5-6"><a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a><span class="kr">end</span>
</span><span id="__spanz-5-7"><a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a>
</span><span id="__spanz-5-8"><a id="__codelineno-5-8" name="__codelineno-5-8" href="#__codelineno-5-8"></a><span class="nv">box</span><span class="p">.</span><span class="py">schema</span><span class="p">.</span><span class="py">func</span><span class="p">.</span><span class="nf">create</span><span class="p">(</span><span class="s1">&#39;check_parameter_with_box_error&#39;</span><span class="p">)</span>
</span></code></pre></div>
<p>Вызовем хранимые процедуры из Java:</p>
<div class="language-java highlight"><pre><span></span><code><span id="__spanz-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="kn">import</span><span class="w"> </span><span class="nn">java.util.Collections</span><span class="p">;</span>
</span><span id="__spanz-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="kn">import</span><span class="w"> </span><span class="nn">java.util.List</span><span class="p">;</span>
</span><span id="__spanz-6-3"><a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a><span class="kn">import</span><span class="w"> </span><span class="nn">java.util.UUID</span><span class="p">;</span>
</span><span id="__spanz-6-4"><a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a>
</span><span id="__spanz-6-5"><a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a><span class="kd">final</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">stringParam</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Collections</span><span class="p">.</span><span class="na">singletonList</span><span class="p">(</span><span class="s">&quot;some_value&quot;</span><span class="p">);</span>
</span><span id="__spanz-6-6"><a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a>
</span><span id="__spanz-6-7"><a id="__codelineno-6-7" name="__codelineno-6-7" href="#__codelineno-6-7"></a><span class="c1">// OK </span>
</span><span id="__spanz-6-8"><a id="__codelineno-6-8" name="__codelineno-6-8" href="#__codelineno-6-8"></a><span class="c1">// TarantoolResponse(data = [Parameter is valid], formats = {})</span>
</span><span id="__spanz-6-9"><a id="__codelineno-6-9" name="__codelineno-6-9" href="#__codelineno-6-9"></a><span class="kd">final</span><span class="w"> </span><span class="n">TarantoolResponse</span><span class="o">&lt;</span><span class="n">List</span><span class="o">&lt;?&gt;&gt;</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span>
</span><span id="__spanz-6-10"><a id="__codelineno-6-10" name="__codelineno-6-10" href="#__codelineno-6-10"></a><span class="w">    </span><span class="n">boxClient</span><span class="p">.</span><span class="na">call</span><span class="p">(</span><span class="s">&quot;check_parameter_with_error&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">stringParam</span><span class="p">).</span><span class="na">join</span><span class="p">();</span>
</span><span id="__spanz-6-11"><a id="__codelineno-6-11" name="__codelineno-6-11" href="#__codelineno-6-11"></a>
</span><span id="__spanz-6-12"><a id="__codelineno-6-12" name="__codelineno-6-12" href="#__codelineno-6-12"></a><span class="kd">final</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">UUID</span><span class="o">&gt;</span><span class="w"> </span><span class="n">param</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Collections</span><span class="p">.</span><span class="na">singletonList</span><span class="p">(</span><span class="n">UUID</span><span class="p">.</span><span class="na">randomUUID</span><span class="p">());</span>
</span><span id="__spanz-6-13"><a id="__codelineno-6-13" name="__codelineno-6-13" href="#__codelineno-6-13"></a>
</span><span id="__spanz-6-14"><a id="__codelineno-6-14" name="__codelineno-6-14" href="#__codelineno-6-14"></a><span class="c1">// Stacktrace:</span>
</span><span id="__spanz-6-15"><a id="__codelineno-6-15" name="__codelineno-6-15" href="#__codelineno-6-15"></a><span class="c1">//    java.util.concurrent.CompletionException: io.tarantool.core.exceptions.BoxError: </span>
</span><span id="__spanz-6-16"><a id="__codelineno-6-16" name="__codelineno-6-16" href="#__codelineno-6-16"></a><span class="c1">//    BoxError{code=32, message=&#39;Parameter must be a string&#39;, </span>
</span><span id="__spanz-6-17"><a id="__codelineno-6-17" name="__codelineno-6-17" href="#__codelineno-6-17"></a><span class="c1">//    stack=[BoxErrorStackItem{type=&#39;ClientError&#39;, line=3, </span>
</span><span id="__spanz-6-18"><a id="__codelineno-6-18" name="__codelineno-6-18" href="#__codelineno-6-18"></a><span class="c1">//    file=&#39;[string &quot;function check_parameter_with_box_error(param...&quot;]&#39;, </span>
</span><span id="__spanz-6-19"><a id="__codelineno-6-19" name="__codelineno-6-19" href="#__codelineno-6-19"></a><span class="c1">//    message=&#39;Parameter must be a string&#39;, errno=0, code=32, details=null}]}</span>
</span><span id="__spanz-6-20"><a id="__codelineno-6-20" name="__codelineno-6-20" href="#__codelineno-6-20"></a><span class="kd">final</span><span class="w"> </span><span class="n">TarantoolResponse</span><span class="o">&lt;</span><span class="n">List</span><span class="o">&lt;?&gt;&gt;</span><span class="w"> </span><span class="n">exceptionallyResult</span><span class="w"> </span><span class="o">=</span>
</span><span id="__spanz-6-21"><a id="__codelineno-6-21" name="__codelineno-6-21" href="#__codelineno-6-21"></a><span class="w">    </span><span class="n">boxClient</span><span class="p">.</span><span class="na">call</span><span class="p">(</span><span class="s">&quot;check_parameter_with_error&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">param</span><span class="p">).</span><span class="na">join</span><span class="p">();</span>
</span></code></pre></div>
<div class="language-java highlight"><pre><span></span><code><span id="__spanz-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="kn">import</span><span class="w"> </span><span class="nn">java.util.Collections</span><span class="p">;</span>
</span><span id="__spanz-7-2"><a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a><span class="kn">import</span><span class="w"> </span><span class="nn">java.util.List</span><span class="p">;</span>
</span><span id="__spanz-7-3"><a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a><span class="kn">import</span><span class="w"> </span><span class="nn">java.util.UUID</span><span class="p">;</span>
</span><span id="__spanz-7-4"><a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a>
</span><span id="__spanz-7-5"><a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a><span class="kd">final</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">stringParam</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Collections</span><span class="p">.</span><span class="na">singletonList</span><span class="p">(</span><span class="s">&quot;some_value&quot;</span><span class="p">);</span>
</span><span id="__spanz-7-6"><a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a>
</span><span id="__spanz-7-7"><a id="__codelineno-7-7" name="__codelineno-7-7" href="#__codelineno-7-7"></a><span class="c1">// OK</span>
</span><span id="__spanz-7-8"><a id="__codelineno-7-8" name="__codelineno-7-8" href="#__codelineno-7-8"></a><span class="c1">// TarantoolResponse(data = [Parameter is valid], formats = {})</span>
</span><span id="__spanz-7-9"><a id="__codelineno-7-9" name="__codelineno-7-9" href="#__codelineno-7-9"></a><span class="kd">final</span><span class="w"> </span><span class="n">TarantoolResponse</span><span class="o">&lt;</span><span class="n">List</span><span class="o">&lt;?&gt;&gt;</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span>
</span><span id="__spanz-7-10"><a id="__codelineno-7-10" name="__codelineno-7-10" href="#__codelineno-7-10"></a><span class="w">    </span><span class="n">boxClient</span><span class="p">.</span><span class="na">call</span><span class="p">(</span><span class="s">&quot;check_parameter_with_box_error&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">stringParam</span><span class="p">).</span><span class="na">join</span><span class="p">();</span>
</span><span id="__spanz-7-11"><a id="__codelineno-7-11" name="__codelineno-7-11" href="#__codelineno-7-11"></a>
</span><span id="__spanz-7-12"><a id="__codelineno-7-12" name="__codelineno-7-12" href="#__codelineno-7-12"></a><span class="kd">final</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">UUID</span><span class="o">&gt;</span><span class="w"> </span><span class="n">param</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Collections</span><span class="p">.</span><span class="na">singletonList</span><span class="p">(</span><span class="n">UUID</span><span class="p">.</span><span class="na">randomUUID</span><span class="p">());</span>
</span><span id="__spanz-7-13"><a id="__codelineno-7-13" name="__codelineno-7-13" href="#__codelineno-7-13"></a>
</span><span id="__spanz-7-14"><a id="__codelineno-7-14" name="__codelineno-7-14" href="#__codelineno-7-14"></a><span class="c1">// Stacktrace: </span>
</span><span id="__spanz-7-15"><a id="__codelineno-7-15" name="__codelineno-7-15" href="#__codelineno-7-15"></a><span class="c1">//    io.tarantool.core.exceptions.BoxError: BoxError{code=32, message=&#39;Parameter must be a </span>
</span><span id="__spanz-7-16"><a id="__codelineno-7-16" name="__codelineno-7-16" href="#__codelineno-7-16"></a><span class="c1">//    string&#39;, stack=[BoxErrorStackItem{type=&#39;ClientError&#39;, line=3, </span>
</span><span id="__spanz-7-17"><a id="__codelineno-7-17" name="__codelineno-7-17" href="#__codelineno-7-17"></a><span class="c1">//    file=&#39;[string &quot;function check_parameter_with_box_error(param...&quot;]&#39;, </span>
</span><span id="__spanz-7-18"><a id="__codelineno-7-18" name="__codelineno-7-18" href="#__codelineno-7-18"></a><span class="c1">//    message=&#39;Parameter must be a string&#39;, errno=0, code=32, details=null}]}</span>
</span><span id="__spanz-7-19"><a id="__codelineno-7-19" name="__codelineno-7-19" href="#__codelineno-7-19"></a><span class="kd">final</span><span class="w"> </span><span class="n">TarantoolResponse</span><span class="o">&lt;</span><span class="n">List</span><span class="o">&lt;?&gt;&gt;</span><span class="w"> </span><span class="n">exceptionallyResult</span><span class="w"> </span><span class="o">=</span>
</span><span id="__spanz-7-20"><a id="__codelineno-7-20" name="__codelineno-7-20" href="#__codelineno-7-20"></a><span class="w">    </span><span class="n">boxClient</span><span class="p">.</span><span class="na">call</span><span class="p">(</span><span class="s">&quot;check_parameter_with_box_error&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">param</span><span class="p">).</span><span class="na">join</span><span class="p">();</span>
</span></code></pre></div>
<h4 id="eval-error">Исключения на стороне Tarantool при вызове <code>TarantoolClient#eval(...)
</code></h4>

<p>Выполним следующий Lua код через Java-клиент:</p>
<div class="language-lua highlight"><pre><span></span><code><span id="__spanz-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="kr">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">box</span><span class="p">.</span><span class="py">space</span><span class="p">[</span><span class="nv">space_name</span><span class="p">]</span><span class="w"> </span><span class="kr">then</span><span class="w"> </span>
</span><span id="__spanz-8-2"><a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a><span class="w">    </span><span class="nv">box</span><span class="p">.</span><span class="nf">error</span><span class="p">(</span><span class="nv">box</span><span class="p">.</span><span class="py">error</span><span class="p">.</span><span class="py">NO_SUCH_SPACE</span><span class="p">,</span><span class="w"> </span><span class="nb">string.format</span><span class="p">(</span><span class="s2">&quot;Space does not exist: %s&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">space_name</span><span class="p">))</span><span class="w"> </span>
</span><span id="__spanz-8-3"><a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a><span class="kr">end</span>
</span><span id="__spanz-8-4"><a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a><span class="kr">return</span><span class="w"> </span><span class="nb">string.format</span><span class="p">(</span><span class="s2">&quot;Space &#39;%s&#39; exists&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">space_name</span><span class="p">)</span>
</span></code></pre></div>
<div class="language-java highlight"><pre><span></span><code><span id="__spanz-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="kd">final</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">luaCode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;if not box.space[space_name] then &quot;</span>
</span><span id="__spanz-9-2"><a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a><span class="w">    </span><span class="o">+</span><span class="w"> </span><span class="s">&quot;box.error(box.error.NO_SUCH_SPACE, string.format(\&quot;Space does not exist: %s\&quot;, space_name)) &quot;</span>
</span><span id="__spanz-9-3"><a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a><span class="w">    </span><span class="o">+</span><span class="w"> </span><span class="s">&quot;end return string.format(\&quot;Space &#39;%s&#39; exists\&quot;, space_name)&quot;</span><span class="p">;</span>
</span><span id="__spanz-9-4"><a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a>
</span><span id="__spanz-9-5"><a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a><span class="c1">// OK</span>
</span><span id="__spanz-9-6"><a id="__codelineno-9-6" name="__codelineno-9-6" href="#__codelineno-9-6"></a><span class="c1">// TarantoolResponse(data = [Space &#39;person&#39; exists], formats = {})</span>
</span><span id="__spanz-9-7"><a id="__codelineno-9-7" name="__codelineno-9-7" href="#__codelineno-9-7"></a><span class="kd">final</span><span class="w"> </span><span class="n">TarantoolResponse</span><span class="o">&lt;</span><span class="n">List</span><span class="o">&lt;?&gt;&gt;</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">client</span><span class="p">.</span><span class="na">eval</span><span class="p">(</span><span class="n">luaCode</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;person&quot;</span><span class="p">).</span><span class="na">join</span><span class="p">();</span>
</span><span id="__spanz-9-8"><a id="__codelineno-9-8" name="__codelineno-9-8" href="#__codelineno-9-8"></a>
</span><span id="__spanz-9-9"><a id="__codelineno-9-9" name="__codelineno-9-9" href="#__codelineno-9-9"></a><span class="c1">// Stacktrace:</span>
</span><span id="__spanz-9-10"><a id="__codelineno-9-10" name="__codelineno-9-10" href="#__codelineno-9-10"></a><span class="c1">//    java.util.concurrent.CompletionException: io.tarantool.core.exceptions.BoxError: </span>
</span><span id="__spanz-9-11"><a id="__codelineno-9-11" name="__codelineno-9-11" href="#__codelineno-9-11"></a><span class="c1">//    BoxError{code=36, message=&#39;Space &#39;Space does not exist: unknown_space&#39; does not exist&#39;, </span>
</span><span id="__spanz-9-12"><a id="__codelineno-9-12" name="__codelineno-9-12" href="#__codelineno-9-12"></a><span class="c1">//    stack=[BoxErrorStackItem{type=&#39;ClientError&#39;, line=1, file=&#39;eval&#39;, message=&#39;Space &#39;Space does </span>
</span><span id="__spanz-9-13"><a id="__codelineno-9-13" name="__codelineno-9-13" href="#__codelineno-9-13"></a><span class="c1">//    not exist: unknown_space&#39; does not exist&#39;, errno=0, code=36, details=null}]}</span>
</span><span id="__spanz-9-14"><a id="__codelineno-9-14" name="__codelineno-9-14" href="#__codelineno-9-14"></a><span class="kd">final</span><span class="w"> </span><span class="n">TarantoolResponse</span><span class="o">&lt;</span><span class="n">List</span><span class="o">&lt;?&gt;&gt;</span><span class="w"> </span><span class="n">exceptionallyResult</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">client</span><span class="p">.</span><span class="na">eval</span><span class="p">(</span><span class="n">luaCode</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;person&quot;</span><span class="p">).</span><span class="na">join</span><span class="p">();</span>
</span></code></pre></div>
<h3 id="go-like-error">Go-like ошибки</h3>
<h4 id="go-like-error-crud">TarantoolCrudClient</h4>

<p><code>TarantoolCrudClient</code> является оберткой над API модуля <a href="https://github.com/tarantool/crud">crud</a>.
Большинство методов API возвращают результат в виде кортежа (res, err), где err - объект
<a href="https://www.tarantool.io/en/doc/latest/reference/reference_capi/error/">ошибки</a>. В Java-клиенте
результат вызова метода crud API оборачивается в объект типа <code>CrudResponse</code>. С точки
зрения протокола IProto, возврат кортежа с объектом-ошибкой не является исключительной ситуацией,
но в случае ошибки (err != nil), <code>TarantoolCrudClient</code> самостоятельно выбрасывает исключение типа
<code>CrudError</code> (по аналогии с<code>TarantoolBoxClient</code>, который выбрасывает <code>BoxError</code>) для сигнализации,
что был возвращен объект ошибки.</p>
<p>В качестве примера создадим на vshard шардированном кластере space <code>person</code> со следующим форматом:</p>
<div class="language-lua highlight"><pre><span></span><code><span id="__spanz-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="nv">format</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
</span><span id="__spanz-10-2"><a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a><span class="w">    </span><span class="p">{</span><span class="w"> </span><span class="s1">&#39;id&#39;</span><span class="p">,</span><span class="w"> </span><span class="nb">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;uuid&#39;</span><span class="w"> </span><span class="p">},</span>
</span><span id="__spanz-10-3"><a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a><span class="w">    </span><span class="p">{</span><span class="w"> </span><span class="s1">&#39;value&#39;</span><span class="p">,</span><span class="w"> </span><span class="nb">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;string&#39;</span><span class="p">,</span><span class="w"> </span><span class="nv">is_nullable</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="w"> </span><span class="p">},</span>
</span><span id="__spanz-10-4"><a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a><span class="w">    </span><span class="p">{</span><span class="w"> </span><span class="s1">&#39;bucket_id&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;unsigned&#39;</span><span class="w"> </span><span class="p">},</span>
</span><span id="__spanz-10-5"><a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a><span class="p">}</span>
</span></code></pre></div>
<p>Добавим записи в кластер:</p>
<div class="language-java highlight"><pre><span></span><code><span id="__spanz-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="kn">import</span><span class="w"> </span><span class="nn">java.util.Arrays</span><span class="p">;</span>
</span><span id="__spanz-11-2"><a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a><span class="kn">import</span><span class="w"> </span><span class="nn">java.util.UUID</span><span class="p">;</span>
</span><span id="__spanz-11-3"><a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a>
</span><span id="__spanz-11-4"><a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a><span class="kd">final</span><span class="w"> </span><span class="n">TarantoolCrudClient</span><span class="w"> </span><span class="n">crudClient</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">TarantoolFactory</span><span class="p">.</span><span class="na">crud</span><span class="p">()</span>
</span><span id="__spanz-11-5"><a id="__codelineno-11-5" name="__codelineno-11-5" href="#__codelineno-11-5"></a><span class="w">    </span><span class="p">.</span><span class="na">host</span><span class="p">(</span><span class="s">&quot;router-hostname&quot;</span><span class="p">)</span>
</span><span id="__spanz-11-6"><a id="__codelineno-11-6" name="__codelineno-11-6" href="#__codelineno-11-6"></a><span class="w">    </span><span class="p">.</span><span class="na">port</span><span class="p">(</span><span class="mi">3301</span><span class="p">)</span>
</span><span id="__spanz-11-7"><a id="__codelineno-11-7" name="__codelineno-11-7" href="#__codelineno-11-7"></a><span class="w">    </span><span class="p">.</span><span class="na">user</span><span class="p">(</span><span class="s">&quot;username&quot;</span><span class="p">)</span>
</span><span id="__spanz-11-8"><a id="__codelineno-11-8" name="__codelineno-11-8" href="#__codelineno-11-8"></a><span class="w">    </span><span class="p">.</span><span class="na">password</span><span class="p">(</span><span class="s">&quot;username-password&quot;</span><span class="p">)</span>
</span><span id="__spanz-11-9"><a id="__codelineno-11-9" name="__codelineno-11-9" href="#__codelineno-11-9"></a><span class="w">    </span><span class="p">.</span><span class="na">build</span><span class="p">();</span>
</span><span id="__spanz-11-10"><a id="__codelineno-11-10" name="__codelineno-11-10" href="#__codelineno-11-10"></a>
</span><span id="__spanz-11-11"><a id="__codelineno-11-11" name="__codelineno-11-11" href="#__codelineno-11-11"></a><span class="kd">final</span><span class="w"> </span><span class="n">TarantoolCrudSpace</span><span class="w"> </span><span class="n">space</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">crudClient</span><span class="p">.</span><span class="na">space</span><span class="p">(</span><span class="s">&quot;person&quot;</span><span class="p">);</span>
</span><span id="__spanz-11-12"><a id="__codelineno-11-12" name="__codelineno-11-12" href="#__codelineno-11-12"></a>
</span><span id="__spanz-11-13"><a id="__codelineno-11-13" name="__codelineno-11-13" href="#__codelineno-11-13"></a><span class="kd">final</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;?&gt;</span><span class="w"> </span><span class="n">tuple</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Arrays</span><span class="p">.</span><span class="na">asList</span><span class="p">(</span><span class="n">UUID</span><span class="p">.</span><span class="na">randomUUID</span><span class="p">(),</span><span class="w"> </span><span class="s">&quot;some_value&quot;</span><span class="p">);</span>
</span><span id="__spanz-11-14"><a id="__codelineno-11-14" name="__codelineno-11-14" href="#__codelineno-11-14"></a>
</span><span id="__spanz-11-15"><a id="__codelineno-11-15" name="__codelineno-11-15" href="#__codelineno-11-15"></a><span class="c1">// OK</span>
</span><span id="__spanz-11-16"><a id="__codelineno-11-16" name="__codelineno-11-16" href="#__codelineno-11-16"></a><span class="c1">//    Tuple(</span>
</span><span id="__spanz-11-17"><a id="__codelineno-11-17" name="__codelineno-11-17" href="#__codelineno-11-17"></a><span class="c1">//      formatId = 55, </span>
</span><span id="__spanz-11-18"><a id="__codelineno-11-18" name="__codelineno-11-18" href="#__codelineno-11-18"></a><span class="c1">//      data = [ca95b6c7-134d-476a-8545-1ce038cb3b18, some_value, 1208], </span>
</span><span id="__spanz-11-19"><a id="__codelineno-11-19" name="__codelineno-11-19" href="#__codelineno-11-19"></a><span class="c1">//      format = [</span>
</span><span id="__spanz-11-20"><a id="__codelineno-11-20" name="__codelineno-11-20" href="#__codelineno-11-20"></a><span class="c1">//        Field{</span>
</span><span id="__spanz-11-21"><a id="__codelineno-11-21" name="__codelineno-11-21" href="#__codelineno-11-21"></a><span class="c1">//          name=&#39;id&#39;, </span>
</span><span id="__spanz-11-22"><a id="__codelineno-11-22" name="__codelineno-11-22" href="#__codelineno-11-22"></a><span class="c1">//          type=&#39;uuid&#39;, </span>
</span><span id="__spanz-11-23"><a id="__codelineno-11-23" name="__codelineno-11-23" href="#__codelineno-11-23"></a><span class="c1">//          isNullable=null, </span>
</span><span id="__spanz-11-24"><a id="__codelineno-11-24" name="__codelineno-11-24" href="#__codelineno-11-24"></a><span class="c1">//          collation=&#39;null&#39;, </span>
</span><span id="__spanz-11-25"><a id="__codelineno-11-25" name="__codelineno-11-25" href="#__codelineno-11-25"></a><span class="c1">//          constraint=null, </span>
</span><span id="__spanz-11-26"><a id="__codelineno-11-26" name="__codelineno-11-26" href="#__codelineno-11-26"></a><span class="c1">//          foreignKey=null</span>
</span><span id="__spanz-11-27"><a id="__codelineno-11-27" name="__codelineno-11-27" href="#__codelineno-11-27"></a><span class="c1">//        }, </span>
</span><span id="__spanz-11-28"><a id="__codelineno-11-28" name="__codelineno-11-28" href="#__codelineno-11-28"></a><span class="c1">//        Field{</span>
</span><span id="__spanz-11-29"><a id="__codelineno-11-29" name="__codelineno-11-29" href="#__codelineno-11-29"></a><span class="c1">//          name=&#39;value&#39;, </span>
</span><span id="__spanz-11-30"><a id="__codelineno-11-30" name="__codelineno-11-30" href="#__codelineno-11-30"></a><span class="c1">//          type=&#39;string&#39;, </span>
</span><span id="__spanz-11-31"><a id="__codelineno-11-31" name="__codelineno-11-31" href="#__codelineno-11-31"></a><span class="c1">//          isNullable=null, </span>
</span><span id="__spanz-11-32"><a id="__codelineno-11-32" name="__codelineno-11-32" href="#__codelineno-11-32"></a><span class="c1">//          collation=&#39;null&#39;, </span>
</span><span id="__spanz-11-33"><a id="__codelineno-11-33" name="__codelineno-11-33" href="#__codelineno-11-33"></a><span class="c1">//          constraint=null, </span>
</span><span id="__spanz-11-34"><a id="__codelineno-11-34" name="__codelineno-11-34" href="#__codelineno-11-34"></a><span class="c1">//          foreignKey=null</span>
</span><span id="__spanz-11-35"><a id="__codelineno-11-35" name="__codelineno-11-35" href="#__codelineno-11-35"></a><span class="c1">//        }, </span>
</span><span id="__spanz-11-36"><a id="__codelineno-11-36" name="__codelineno-11-36" href="#__codelineno-11-36"></a><span class="c1">//      Field{</span>
</span><span id="__spanz-11-37"><a id="__codelineno-11-37" name="__codelineno-11-37" href="#__codelineno-11-37"></a><span class="c1">//        name=&#39;bucket_id&#39;, </span>
</span><span id="__spanz-11-38"><a id="__codelineno-11-38" name="__codelineno-11-38" href="#__codelineno-11-38"></a><span class="c1">//        type=&#39;unsigned&#39;, </span>
</span><span id="__spanz-11-39"><a id="__codelineno-11-39" name="__codelineno-11-39" href="#__codelineno-11-39"></a><span class="c1">//        isNullable=null, </span>
</span><span id="__spanz-11-40"><a id="__codelineno-11-40" name="__codelineno-11-40" href="#__codelineno-11-40"></a><span class="c1">//        collation=&#39;null&#39;, </span>
</span><span id="__spanz-11-41"><a id="__codelineno-11-41" name="__codelineno-11-41" href="#__codelineno-11-41"></a><span class="c1">//        constraint=null, </span>
</span><span id="__spanz-11-42"><a id="__codelineno-11-42" name="__codelineno-11-42" href="#__codelineno-11-42"></a><span class="c1">//        foreignKey=null</span>
</span><span id="__spanz-11-43"><a id="__codelineno-11-43" name="__codelineno-11-43" href="#__codelineno-11-43"></a><span class="c1">//      }</span>
</span><span id="__spanz-11-44"><a id="__codelineno-11-44" name="__codelineno-11-44" href="#__codelineno-11-44"></a><span class="c1">//    ]</span>
</span><span id="__spanz-11-45"><a id="__codelineno-11-45" name="__codelineno-11-45" href="#__codelineno-11-45"></a><span class="c1">//   )</span>
</span><span id="__spanz-11-46"><a id="__codelineno-11-46" name="__codelineno-11-46" href="#__codelineno-11-46"></a><span class="kd">final</span><span class="w"> </span><span class="n">Tuple</span><span class="o">&lt;</span><span class="n">List</span><span class="o">&lt;?&gt;&gt;</span><span class="w"> </span><span class="n">insertedTuple</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">space</span><span class="p">.</span><span class="na">insert</span><span class="p">(</span><span class="n">tuple</span><span class="p">).</span><span class="na">join</span><span class="p">();</span>
</span><span id="__spanz-11-47"><a id="__codelineno-11-47" name="__codelineno-11-47" href="#__codelineno-11-47"></a>
</span><span id="__spanz-11-48"><a id="__codelineno-11-48" name="__codelineno-11-48" href="#__codelineno-11-48"></a><span class="kd">final</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;?&gt;</span><span class="w"> </span><span class="n">tupleWithSameId</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Arrays</span><span class="p">.</span><span class="na">asList</span><span class="p">(</span><span class="n">tuple</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span><span class="w"> </span><span class="s">&quot;second_value&quot;</span><span class="p">);</span>
</span><span id="__spanz-11-49"><a id="__codelineno-11-49" name="__codelineno-11-49" href="#__codelineno-11-49"></a>
</span><span id="__spanz-11-50"><a id="__codelineno-11-50" name="__codelineno-11-50" href="#__codelineno-11-50"></a><span class="c1">// Stacktrace:</span>
</span><span id="__spanz-11-51"><a id="__codelineno-11-51" name="__codelineno-11-51" href="#__codelineno-11-51"></a><span class="c1">//    java.util.concurrent.CompletionException: io.tarantool.mapping.crud.CrudException: </span>
</span><span id="__spanz-11-52"><a id="__codelineno-11-52" name="__codelineno-11-52" href="#__codelineno-11-52"></a><span class="c1">//    InsertError: Failed to insert: Duplicate key exists in unique index &quot;pk&quot; in space &quot;person&quot; </span>
</span><span id="__spanz-11-53"><a id="__codelineno-11-53" name="__codelineno-11-53" href="#__codelineno-11-53"></a><span class="c1">//    with old tuple - [ca95b6c7-134d-476a-8545-1ce038cb3b18, &quot;some_value&quot;, 1208] and </span>
</span><span id="__spanz-11-54"><a id="__codelineno-11-54" name="__codelineno-11-54" href="#__codelineno-11-54"></a><span class="c1">//    new tuple - [ca95b6c7-134d-476a-8545-1ce038cb3b18, &quot;second_value&quot;, 1208]</span>
</span><span id="__spanz-11-55"><a id="__codelineno-11-55" name="__codelineno-11-55" href="#__codelineno-11-55"></a><span class="kd">final</span><span class="w"> </span><span class="n">Tuple</span><span class="o">&lt;</span><span class="n">List</span><span class="o">&lt;?&gt;&gt;</span><span class="w"> </span><span class="n">exceptionallyTuple</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">space</span><span class="p">.</span><span class="na">insert</span><span class="p">(</span><span class="n">tupleWithSameId</span><span class="p">).</span><span class="na">join</span><span class="p">();</span>
</span></code></pre></div>
<h4 id="go-like-error-call">Возврат Go-like ошибок через хранимые процедуры</h4>

<p>Tarantool допускает возврат Go-like кортежей в возвращаемом значении хранимых процедур. В этом
случае пользователь должен позаботиться о правильности преобразования lua и Java типов, основываясь
на правилах <a href="../tuple_pojo_mapping/">преобразования</a>.</p>
<p>Рассмотрим следующую процедуру:</p>
<div class="language-lua highlight"><pre><span></span><code><span id="__spanz-12-1"><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="kr">function</span><span class="w"> </span><span class="nf">multiply_by_100</span><span class="p">(</span><span class="nv">input</span><span class="p">)</span>
</span><span id="__spanz-12-2"><a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nb">type</span><span class="p">(</span><span class="nv">input</span><span class="p">)</span><span class="w"> </span><span class="o">~=</span><span class="w"> </span><span class="s2">&quot;number&quot;</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__spanz-12-3"><a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a><span class="w">        </span><span class="kr">return</span><span class="w"> </span><span class="kc">nil</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Input is not a number&quot;</span>
</span><span id="__spanz-12-4"><a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__spanz-12-5"><a id="__codelineno-12-5" name="__codelineno-12-5" href="#__codelineno-12-5"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">input</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">100</span>
</span><span id="__spanz-12-6"><a id="__codelineno-12-6" name="__codelineno-12-6" href="#__codelineno-12-6"></a><span class="w">    </span><span class="kr">return</span><span class="w"> </span><span class="nv">result</span><span class="p">,</span><span class="w"> </span><span class="kc">nil</span>
</span><span id="__spanz-12-7"><a id="__codelineno-12-7" name="__codelineno-12-7" href="#__codelineno-12-7"></a><span class="kr">end</span>
</span><span id="__spanz-12-8"><a id="__codelineno-12-8" name="__codelineno-12-8" href="#__codelineno-12-8"></a>
</span><span id="__spanz-12-9"><a id="__codelineno-12-9" name="__codelineno-12-9" href="#__codelineno-12-9"></a><span class="nv">box</span><span class="p">.</span><span class="py">schema</span><span class="p">.</span><span class="py">func</span><span class="p">.</span><span class="nf">create</span><span class="p">(</span><span class="s1">&#39;multiply_by_100&#39;</span><span class="p">)</span>
</span></code></pre></div>
<div class="language-java highlight"><pre><span></span><code><span id="__spanz-13-1"><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="kd">final</span><span class="w"> </span><span class="n">TarantoolClient</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">TarantoolFactory</span><span class="p">.</span><span class="na">box</span><span class="p">()</span>
</span><span id="__spanz-13-2"><a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a><span class="w">    </span><span class="p">.</span><span class="na">host</span><span class="p">(</span><span class="s">&quot;hostname&quot;</span><span class="p">)</span>
</span><span id="__spanz-13-3"><a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a><span class="w">    </span><span class="p">.</span><span class="na">port</span><span class="p">(</span><span class="mi">3301</span><span class="p">)</span>
</span><span id="__spanz-13-4"><a id="__codelineno-13-4" name="__codelineno-13-4" href="#__codelineno-13-4"></a><span class="w">    </span><span class="p">.</span><span class="na">user</span><span class="p">(</span><span class="s">&quot;username&quot;</span><span class="p">)</span>
</span><span id="__spanz-13-5"><a id="__codelineno-13-5" name="__codelineno-13-5" href="#__codelineno-13-5"></a><span class="w">    </span><span class="p">.</span><span class="na">password</span><span class="p">(</span><span class="s">&quot;username-password&quot;</span><span class="p">)</span>
</span><span id="__spanz-13-6"><a id="__codelineno-13-6" name="__codelineno-13-6" href="#__codelineno-13-6"></a><span class="w">    </span><span class="p">.</span><span class="na">build</span><span class="p">();</span>
</span><span id="__spanz-13-7"><a id="__codelineno-13-7" name="__codelineno-13-7" href="#__codelineno-13-7"></a>
</span><span id="__spanz-13-8"><a id="__codelineno-13-8" name="__codelineno-13-8" href="#__codelineno-13-8"></a><span class="c1">// OK</span>
</span><span id="__spanz-13-9"><a id="__codelineno-13-9" name="__codelineno-13-9" href="#__codelineno-13-9"></a><span class="c1">// TarantoolResponse(data = [10000, null], formats = {})</span>
</span><span id="__spanz-13-10"><a id="__codelineno-13-10" name="__codelineno-13-10" href="#__codelineno-13-10"></a><span class="kd">final</span><span class="w"> </span><span class="n">TarantoolResponse</span><span class="o">&lt;</span><span class="n">List</span><span class="o">&lt;?&gt;&gt;</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">client</span><span class="p">.</span><span class="na">call</span><span class="p">(</span><span class="s">&quot;multiply_by_100&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">Arrays</span><span class="p">.</span><span class="na">asList</span><span class="p">(</span><span class="mi">100</span><span class="p">)).</span><span class="na">join</span><span class="p">();</span>
</span><span id="__spanz-13-11"><a id="__codelineno-13-11" name="__codelineno-13-11" href="#__codelineno-13-11"></a>
</span><span id="__spanz-13-12"><a id="__codelineno-13-12" name="__codelineno-13-12" href="#__codelineno-13-12"></a><span class="c1">// OK</span>
</span><span id="__spanz-13-13"><a id="__codelineno-13-13" name="__codelineno-13-13" href="#__codelineno-13-13"></a><span class="c1">// TarantoolResponse(data = [null, Input is not a number], formats = {})</span>
</span><span id="__spanz-13-14"><a id="__codelineno-13-14" name="__codelineno-13-14" href="#__codelineno-13-14"></a><span class="kd">final</span><span class="w"> </span><span class="n">TarantoolResponse</span><span class="o">&lt;</span><span class="n">List</span><span class="o">&lt;?&gt;&gt;</span><span class="w"> </span><span class="n">resultWithError</span><span class="w"> </span><span class="o">=</span>
</span><span id="__spanz-13-15"><a id="__codelineno-13-15" name="__codelineno-13-15" href="#__codelineno-13-15"></a><span class="w">    </span><span class="n">client</span><span class="p">.</span><span class="na">call</span><span class="p">(</span><span class="s">&quot;multiply_by_100&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">Arrays</span><span class="p">.</span><span class="na">asList</span><span class="p">(</span><span class="s">&quot;100&quot;</span><span class="p">)).</span><span class="na">join</span><span class="p">();</span>
</span></code></pre></div>
<p>В качестве возвращаемых значений могут выступать различные lua-типы, например, массивы:</p>
<div class="language-lua highlight"><pre><span></span><code><span id="__spanz-14-1"><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a><span class="kr">function</span><span class="w"> </span><span class="nf">prime_factors</span><span class="p">(</span><span class="nv">input</span><span class="p">)</span>
</span><span id="__spanz-14-2"><a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nb">type</span><span class="p">(</span><span class="nv">input</span><span class="p">)</span><span class="w"> </span><span class="o">~=</span><span class="w"> </span><span class="s2">&quot;number&quot;</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="nv">input</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__spanz-14-3"><a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a><span class="w">        </span><span class="kr">return</span><span class="w"> </span><span class="kc">nil</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Input is not a valid number (must be an integer &gt;= 2)&quot;</span>
</span><span id="__spanz-14-4"><a id="__codelineno-14-4" name="__codelineno-14-4" href="#__codelineno-14-4"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__spanz-14-5"><a id="__codelineno-14-5" name="__codelineno-14-5" href="#__codelineno-14-5"></a>
</span><span id="__spanz-14-6"><a id="__codelineno-14-6" name="__codelineno-14-6" href="#__codelineno-14-6"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">factors</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{}</span>
</span><span id="__spanz-14-7"><a id="__codelineno-14-7" name="__codelineno-14-7" href="#__codelineno-14-7"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">divisor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span>
</span><span id="__spanz-14-8"><a id="__codelineno-14-8" name="__codelineno-14-8" href="#__codelineno-14-8"></a>
</span><span id="__spanz-14-9"><a id="__codelineno-14-9" name="__codelineno-14-9" href="#__codelineno-14-9"></a><span class="w">    </span><span class="kr">while</span><span class="w"> </span><span class="nv">input</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="nv">divisor</span><span class="w"> </span><span class="kr">do</span>
</span><span id="__spanz-14-10"><a id="__codelineno-14-10" name="__codelineno-14-10" href="#__codelineno-14-10"></a><span class="w">        </span><span class="kr">while</span><span class="w"> </span><span class="p">(</span><span class="nv">input</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="nv">divisor</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="kr">do</span>
</span><span id="__spanz-14-11"><a id="__codelineno-14-11" name="__codelineno-14-11" href="#__codelineno-14-11"></a><span class="w">            </span><span class="nb">table.insert</span><span class="p">(</span><span class="nv">factors</span><span class="p">,</span><span class="w"> </span><span class="nv">divisor</span><span class="p">)</span>
</span><span id="__spanz-14-12"><a id="__codelineno-14-12" name="__codelineno-14-12" href="#__codelineno-14-12"></a><span class="w">            </span><span class="nv">input</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">input</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="nv">divisor</span>
</span><span id="__spanz-14-13"><a id="__codelineno-14-13" name="__codelineno-14-13" href="#__codelineno-14-13"></a><span class="w">        </span><span class="kr">end</span>
</span><span id="__spanz-14-14"><a id="__codelineno-14-14" name="__codelineno-14-14" href="#__codelineno-14-14"></a><span class="w">        </span><span class="nv">divisor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">divisor</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span>
</span><span id="__spanz-14-15"><a id="__codelineno-14-15" name="__codelineno-14-15" href="#__codelineno-14-15"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__spanz-14-16"><a id="__codelineno-14-16" name="__codelineno-14-16" href="#__codelineno-14-16"></a>
</span><span id="__spanz-14-17"><a id="__codelineno-14-17" name="__codelineno-14-17" href="#__codelineno-14-17"></a><span class="w">    </span><span class="kr">return</span><span class="w"> </span><span class="nv">factors</span><span class="p">,</span><span class="w"> </span><span class="kc">nil</span>
</span><span id="__spanz-14-18"><a id="__codelineno-14-18" name="__codelineno-14-18" href="#__codelineno-14-18"></a><span class="kr">end</span>
</span><span id="__spanz-14-19"><a id="__codelineno-14-19" name="__codelineno-14-19" href="#__codelineno-14-19"></a>
</span><span id="__spanz-14-20"><a id="__codelineno-14-20" name="__codelineno-14-20" href="#__codelineno-14-20"></a><span class="nv">box</span><span class="p">.</span><span class="py">schema</span><span class="p">.</span><span class="py">func</span><span class="p">.</span><span class="nf">create</span><span class="p">(</span><span class="s1">&#39;prime_factors&#39;</span><span class="p">)</span>
</span></code></pre></div>
<div class="language-java highlight"><pre><span></span><code><span id="__spanz-15-1"><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a><span class="kn">import</span><span class="w"> </span><span class="nn">java.util.Arrays</span><span class="p">;</span>
</span><span id="__spanz-15-2"><a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a>
</span><span id="__spanz-15-3"><a id="__codelineno-15-3" name="__codelineno-15-3" href="#__codelineno-15-3"></a><span class="c1">// OK</span>
</span><span id="__spanz-15-4"><a id="__codelineno-15-4" name="__codelineno-15-4" href="#__codelineno-15-4"></a><span class="c1">// TarantoolResponse(data = [[2, 2, 5, 5], null], formats = {})</span>
</span><span id="__spanz-15-5"><a id="__codelineno-15-5" name="__codelineno-15-5" href="#__codelineno-15-5"></a><span class="kd">final</span><span class="w"> </span><span class="n">TarantoolResponse</span><span class="o">&lt;</span><span class="n">List</span><span class="o">&lt;?&gt;&gt;</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">client</span><span class="p">.</span><span class="na">call</span><span class="p">(</span><span class="s">&quot;prime_factors&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">Arrays</span><span class="p">.</span><span class="na">asList</span><span class="p">(</span><span class="mi">100</span><span class="p">)).</span><span class="na">join</span><span class="p">();</span>
</span><span id="__spanz-15-6"><a id="__codelineno-15-6" name="__codelineno-15-6" href="#__codelineno-15-6"></a>
</span><span id="__spanz-15-7"><a id="__codelineno-15-7" name="__codelineno-15-7" href="#__codelineno-15-7"></a><span class="w">    </span><span class="c1">// OK</span>
</span><span id="__spanz-15-8"><a id="__codelineno-15-8" name="__codelineno-15-8" href="#__codelineno-15-8"></a><span class="c1">// TarantoolResponse(data = [null, Input is not a valid number (must be an integer &gt;= 2)], </span>
</span><span id="__spanz-15-9"><a id="__codelineno-15-9" name="__codelineno-15-9" href="#__codelineno-15-9"></a><span class="c1">// formats = {})</span>
</span><span id="__spanz-15-10"><a id="__codelineno-15-10" name="__codelineno-15-10" href="#__codelineno-15-10"></a><span class="w">    </span><span class="kd">final</span><span class="w"> </span><span class="n">TarantoolResponse</span><span class="o">&lt;</span><span class="n">List</span><span class="o">&lt;?&gt;&gt;</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span>
</span><span id="__spanz-15-11"><a id="__codelineno-15-11" name="__codelineno-15-11" href="#__codelineno-15-11"></a><span class="w">        </span><span class="n">client</span><span class="p">.</span><span class="na">call</span><span class="p">(</span><span class="s">&quot;prime_factors&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">Arrays</span><span class="p">.</span><span class="na">asList</span><span class="p">(</span><span class="mi">100</span><span class="p">)).</span><span class="na">join</span><span class="p">();</span>
</span></code></pre></div>
<h3 id="java-exceptions">Исключения, генерируемые Java-клиентом</h3>

<table id="java-exceptions-table">
    <caption>Типы исключений</caption>
    <thead>
        <tr>
            <th>Тип исключения</th>
            <th>Описание</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>BadGreetingException</td>
            <td>Выбрасывается в случае неудачного приветствия с узлом Tarantool</td>
        </tr>
        <tr>
            <td>BalancerException</td>
            <td>Базовое исключение, выбрасываемое при неправильной работе 
балансировщика</td>
        </tr>
        <tr>
            <td>NoAvailableClientsException</td>
            <td>Наследник BalancerException. Выбрасывается в случае когда балансировщик 
не смог найти ни одного "живого" соединения в пуле соединений</td>
        </tr>
        <tr>
            <td>SchemaFetchingException</td>
            <td>Наследник ClientException. Выбрасывается, когда во время загрузки схем 
спейсов произошла какая-либо ошибка</td>
        </tr>
        <tr>
            <td>ConnectionException</td>
            <td>Базовое исключение для исключений, связанных с низкоуровневым 
соединением (интерфейс Connection)</td>
        </tr>
        <tr>
            <td>ConnectionClosedException</td>
            <td>Наследник ConnectionException. Выбрасывается при аварийном закрытии 
соединения со стороны узла Tarantool или со стороны Java-клиента, в момент, когда соединение к узлу 
инициировано, но было прервано до момента фактического подключения</td>
        </tr>
        <tr>
            <td>CrudException</td>
            <td>Базовый класс исключений при работе с TarantoolCrudSpace API. 
Выбрасывается при ошибочной работе с TarantoolCrudSpace API (например, вставка записи с одинаковым 
ключом)</td>
        </tr>
        <tr>
            <td>ServerException</td>
            <td>Базовый класс исключений для ошибок сервера, таких как устаревшая 
версия протокола</td>
        </tr>
        <tr>
            <td>JacksonMappingException</td>
            <td>Базовый класс исключений для ошибок сериализации и десериализации 
типов</td>
        </tr>
        <tr>
            <td>NoSchemaException</td>
            <td>Наследник ClientException. Выбрасывается, когда при вызове 
<code>TarantoolBoxClient#space(...)</code> space с переданным идентификатором или именем не 
существует</td>
        </tr>
        <tr>
            <td>ShutdownException</td>
            <td>Наследник ClientException. Класс исключений клиентов, таких как ошибки 
изящного завершения</td>
        </tr>
        <tr>
            <td>PoolException</td>
            <td>Базовый класс исключений, возникающих при работе пула соединений</td>
        </tr>
        <tr>
            <td>PoolClosedException</td>
            <td>Наследник PoolException. Выбрасывается, при попытке выполнить запросы 
на прежде закрытом Java-клиенте</td>
        </tr>
        <tr>
            <td>TimeoutException</td>
            <td>Выбрасывается, когда действие клиента превышает заданное время 
(подключение, приветствие, тайм-аут запроса)</td>
        </tr>
    </tbody>
</table>







  
  






                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../instance-connection-group/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Группа соединений">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Группа соединений
              </div>
            </div>
          </a>
        
        
          
          <a href="../connection-to-multiple-nodes/" class="md-footer__link md-footer__link--next" aria-label="Next: Подключение к нескольким узлам">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                Подключение к нескольким узлам
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright ©️ 2025 VK Tech
    </div>
  
  
</div>
      
        
<div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/tarantool/tarantool-java-sdk" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://www.tarantool.io/ru/" target="_blank" rel="noopener" title="www.tarantool.io" class="md-social__link">
      <svg width="52" height="52" viewBox="0 0 52 52" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M19.819 8.58729C22.8355 6.8491 24.3438 5.98 26 5.98C27.6562 5.98 29.1645 6.8491 32.181 8.58729L38.019 11.9512C41.0355 13.6894 42.5438 14.5585 43.3719 15.99C44.2 17.4215 44.2 19.1597 44.2 22.6361V29.3639C44.2 32.8403 44.2 34.5785 43.3719 36.01C42.5438 37.4415 41.0355 38.3106 38.019 40.0488L32.181 43.4127C29.1645 45.1509 27.6562 46.02 26 46.02C24.3438 46.02 22.8355 45.1509 19.819 43.4127L13.981 40.0488C10.9645 38.3106 9.45621 37.4415 8.6281 36.01C7.8 34.5785 7.8 32.8403 7.8 29.3639V22.6361C7.8 19.1597 7.8 17.4215 8.6281 15.99C9.45621 14.5585 10.9645 13.6894 13.981 11.9512L19.819 8.58729ZM18.46 18.98C18.0292 18.98 17.68 19.3292 17.68 19.76V22.5141C17.68 22.9449 18.0292 23.2941 18.46 23.2941H23.063C23.4937 23.2941 23.843 23.6433 23.843 24.0741V34.84C23.843 35.2708 24.1922 35.62 24.623 35.62H27.377C27.8078 35.62 28.157 35.2708 28.157 34.84V24.0741C28.157 23.6433 28.5063 23.2941 28.937 23.2941H33.54C33.9708 23.2941 34.32 22.9449 34.32 22.5141V19.76C34.32 19.3292 33.9708 18.98 33.54 18.98H18.46Z" fill="white"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M0 24.7213C0 13.0676 0 7.2407 3.62035 3.62035C7.2407 0 13.0676 0 24.7213 0H27.2787C38.9324 0 44.7593 0 48.3796 3.62035C52 7.2407 52 13.0676 52 24.7213V27.2787C52 38.9324 52 44.7593 48.3796 48.3796C44.7593 52 38.9324 52 27.2787 52H24.7213C13.0676 52 7.2407 52 3.62035 48.3796C0 44.7593 0 38.9324 0 27.2787V24.7213ZM24.7213 1.56H27.2787C33.1497 1.56 37.396 1.56331 40.6338 1.99863C43.8268 2.42792 45.8045 3.25142 47.2766 4.72344C48.7486 6.19546 49.5721 8.17319 50.0014 11.3662C50.4367 14.604 50.44 18.8503 50.44 24.7213V27.2787C50.44 33.1497 50.4367 37.396 50.0014 40.6338C49.5721 43.8268 48.7486 45.8045 47.2766 47.2766C45.8045 48.7486 43.8268 49.5721 40.6338 50.0014C37.396 50.4367 33.1497 50.44 27.2787 50.44H24.7213C18.8503 50.44 14.604 50.4367 11.3662 50.0014C8.17319 49.5721 6.19546 48.7486 4.72344 47.2766C3.25142 45.8045 2.42792 43.8268 1.99863 40.6338C1.56331 37.396 1.56 33.1497 1.56 27.2787V24.7213C1.56 18.8503 1.56331 14.604 1.99863 11.3662C2.42792 8.17319 3.25142 6.19546 4.72344 4.72344C6.19546 3.25142 8.17319 2.42792 11.3662 1.99863C14.604 1.56331 18.8503 1.56 24.7213 1.56Z" fill="white"/>
</svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../../../..", "features": ["navigation.tracking", "navigation.tabs", "navigation.tabs.sticky", "navigation.tracking", "navigation.path", "navigation.indexes", "navigation.top", "navigation.footer", "content.footnote.tooltips", "content.code.copy", "content.code.select", "content.code.annotate"], "search": "../../../../assets/javascripts/workers/search.7a47a382.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"alias": true, "provider": "mike"}}</script>
    
    
      <script src="../../../../assets/javascripts/bundle.e71a0d61.min.js"></script>
      
    
  </body>
</html>